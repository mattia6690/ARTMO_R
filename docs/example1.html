<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Mattia Rossi" />


<title>Get ARTMO Data</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<div class="container-fluid main-container">

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->



<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">ARTMO R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="example0.html">Getting Started</a>
</li>
<li>
  <a href="example1.html">Get Data</a>
</li>
<li>
  <a href="example2.html">Explore Databases</a>
</li>
<li>
  <a href="example3.html">Spatial Link</a>
</li>
<li>
  <a href="changelog.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Get ARTMO Data</h1>
<h4 class="author"><em>Mattia Rossi</em></h4>
<h4 class="date"><em>18 February, 2019</em></h4>

</div>


<p><em>This site shows the basic approach for accessing handling and aggregating ARTMO Databases using ARTMO_R</em></p>
<div id="essentials" class="section level1">
<h1><span class="header-section-number">1</span> Essentials</h1>
<p>This part of the code is necessary to set up the working environment. All necessary Functions have been wrapped in a package downloadable directly from the Github repository and included in the <strong>dev branch</strong> of the repository The package can be downloaded and installed as follows</p>
<pre class="r"><code>library(&quot;devtools&quot;)
devtools::install_github(&quot;mattia6690/ARTMO_R&quot;,ref=&quot;dev&quot;)</code></pre>
<pre class="r"><code>library(&quot;ArtmoR&quot;)</code></pre>
</div>
<div id="connect" class="section level1">
<h1><span class="header-section-number">2</span> Connect</h1>
<p>In a first step the connection credentials are necessary. Below you can see the standard MySQL credentials as described in the ARTMO manual.</p>
<pre class="r"><code>user      &lt;- &quot;root&quot;
host      &lt;- &quot;localhost&quot;
password  &lt;- &quot;123456&quot;</code></pre>
<p>The connection itself can be done in two ways. First to the overall MySQL without specification of a database in order to explore the available databases with <code>connect.raw</code>. Each Database is treated in its own and cannot be used together. If you wish to analyze all the databases at the same time you may need an additional for loop or some other iterative functionalities (e.g. purrr). This is discouraged due to the processing time necessary. To display the Databases available in MYSQL use the <code>getDBs</code> parameter</p>
<pre class="r"><code>con.raw &lt;- connect.artmo(user, password, host,getDB=TRUE)</code></pre>
</div>
<div id="select" class="section level1">
<h1><span class="header-section-number">3</span> Select</h1>
<p>By selecting the Database the same function is able to connect solemly to the database specified.</p>
<pre class="r"><code>database  &lt;- &quot;artmo_1&quot;
con       &lt;- connect.artmo(user, password, host, database)
summary(con)</code></pre>
<pre><code>##            Length             Class              Mode 
##                 1 MariaDBConnection                S4</code></pre>
<p>Once connected <code>db.tables</code> helps to explore the tables stored in the MySQL back-end for the specific database. All the available tables are displayed. The ones without entries information have a count of 0 and will be ignored in the next steps</p>
<pre class="r"><code>db.tabs&lt;-db.tables(con)
print(db.tabs)</code></pre>
<pre><code>##                  Name  Rows Avg_row_length Data_length
## 1    aux_prospect4_t2  1000             81       81920
## 2        aux_sail4_t2  1000            180      180224
## 3              master    10           3296       32960
## 4        prospect4_t1    20          21748      434976
## 5        prospect4_t2  6090          33680   205111200
## 6      s_prospect4_t2  1000             65       65536
## 7          s_sail4_t2  1000             65       65536
## 8            sail4_t1    40           2745      109800
## 9            sail4_t2 81000            240    19480000
## 10             sensor    16          36784      588660
## 11       test_cf_alfa    33             15         495
## 12  test_cf_algoritmo    33             42        1400
## 13       test_cf_beta    33             15         495
## 14      test_cf_class     7         847740     5934184
## 15      test_cf_noise   126        9048056  1140055080
## 16  test_cf_parameter     7           1296        9076
## 17      test_cf_train   125           1116      139500
## 18   test_inv_cf_ppal     8            498        3988
## 19 test_mla_algoritmo     7            284        1988
## 20     test_mla_class     3            280         840
## 21    test_mla_noise1     7             13          91
## 22    test_mla_noise2    31             13         403
## 23 test_mla_parameter     3            268         804
## 24      test_mla_ppal     3           2312        6936
## 25    test_mla_result    31         873528    27079392
## 26    test_mla_train1    31             13         403
## 27    test_mla_train2    31             13         403
## 28          vis_eq_t1     1            260         260
## 29          vis_eq_t2     6             42         252
## 30          vis_eq_t3    13            285        3705
## 31             vis_t1     4            260        1040
## 32             vis_t2    11             85         936
## 33             vis_t3    24            534       12816</code></pre>
</div>
<div id="search-and-store" class="section level1">
<h1><span class="header-section-number">4</span> Search and Store</h1>
<p>Furthermore the most important part when dealing with MySQL - or basically with any SQL - code is to link the various tables one to the other. Due to the complexity of ARTMO each approach generates numerous tables, comprise several different data types and are linked in a sometimes inconsistent way to each other. Depending on the workflows more than 10 tables have to be recursively liked one to the other. The <code>getLinks</code> function resolves tackles this issue and finds the connection between tables</p>
<pre class="r"><code>dblinks  &lt;- getLinks(con)
print(dblinks)</code></pre>
<pre><code>## # A tibble: 17 x 8
##    Database Table            IDs   Count Table_Type Table_Name  Rank result
##    &lt;chr&gt;    &lt;chr&gt;            &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;
##  1 artmo_1  test_inv_cf_ppal ID_T1     8 test_cf    ppal           1      0
##  2 artmo_1  test_cf_class    ID_T2     7 test_cf    class          2      0
##  3 artmo_1  test_cf_paramet~ ID_T3     7 test_cf    parameter      3      0
##  4 artmo_1  test_cf_algorit~ ID_T4    33 test_cf    algoritmo      4      0
##  5 artmo_1  test_cf_alfa     ID_T5    33 test_cf    alfa           5      0
##  6 artmo_1  test_cf_beta     ID_T6    33 test_cf    beta           6      0
##  7 artmo_1  test_cf_noise    ID_T7   126 test_cf    noise          7      0
##  8 artmo_1  test_cf_train    ID_T8   125 test_cf    train          8      1
##  9 artmo_1  test_mla_ppal    ID_T1     3 test_mla   ppal           1      0
## 10 artmo_1  test_mla_class   ID_T2     3 test_mla   class          2      0
## 11 artmo_1  test_mla_parame~ ID_T3     3 test_mla   parameter      3      0
## 12 artmo_1  test_mla_algori~ ID_T4     7 test_mla   algoritmo      4      0
## 13 artmo_1  test_mla_noise1  ID_T5     7 test_mla   noise1         5      0
## 14 artmo_1  test_mla_noise2  ID_T6    31 test_mla   noise2         6      0
## 15 artmo_1  test_mla_train1  ID_T7    31 test_mla   train1         7      0
## 16 artmo_1  test_mla_train2  ID_T8    31 test_mla   train2         8      0
## 17 artmo_1  test_mla_result  ID_T9    31 test_mla   result         9      1</code></pre>
<p>As you can see above each table contains one master ID that allows the link between the databases. Now all the data from each of the table has to be retrieved from the MySQL database. Hereby no information is written to the HD but everything remains in the RAM, so be aware that huge databases may cause <strong>Memory Issues</strong>.</p>
<pre class="r"><code>dbtabs   &lt;- getTabs(con,dblinks)</code></pre>
<pre><code>## Warning in rep(., each = vsalidas): first element used of &#39;each&#39; argument</code></pre>
<pre><code>## Warning in cbind(Spec_id, vsalidas.rep, spectral): number of rows of result
## is not a multiple of vector length (arg 1)</code></pre>
<pre class="r"><code>print(dbtabs)</code></pre>
<pre><code>## # A tibble: 17 x 8
##    Database Table_Type Table_Name Table       Rank Count result MyTables   
##    &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;list&gt;     
##  1 artmo_1  test_cf    ppal       test_inv_~     1     8      0 &lt;tibble [8~
##  2 artmo_1  test_cf    class      test_cf_c~     2     7      0 &lt;tibble [7~
##  3 artmo_1  test_cf    parameter  test_cf_p~     3     7      0 &lt;tibble [7~
##  4 artmo_1  test_cf    algoritmo  test_cf_a~     4    33      0 &lt;tibble [3~
##  5 artmo_1  test_cf    alfa       test_cf_a~     5    33      0 &lt;tibble [3~
##  6 artmo_1  test_cf    beta       test_cf_b~     6    33      0 &lt;tibble [3~
##  7 artmo_1  test_cf    noise      test_cf_n~     7   126      0 &lt;tibble [1~
##  8 artmo_1  test_cf    train      test_cf_t~     8   125      1 &lt;tibble [1~
##  9 artmo_1  test_mla   ppal       test_mla_~     1     3      0 &lt;tibble [3~
## 10 artmo_1  test_mla   class      test_mla_~     2     3      0 &lt;tibble [3~
## 11 artmo_1  test_mla   parameter  test_mla_~     3     3      0 &lt;tibble [3~
## 12 artmo_1  test_mla   algoritmo  test_mla_~     4     7      0 &lt;tibble [7~
## 13 artmo_1  test_mla   noise1     test_mla_~     5     7      0 &lt;tibble [7~
## 14 artmo_1  test_mla   noise2     test_mla_~     6    31      0 &lt;tibble [3~
## 15 artmo_1  test_mla   train1     test_mla_~     7    31      0 &lt;tibble [3~
## 16 artmo_1  test_mla   train2     test_mla_~     8    31      0 &lt;tibble [3~
## 17 artmo_1  test_mla   result     test_mla_~     9    31      1 &lt;tibble [3~</code></pre>
<p>The data now is nested depending on the Table Type (which approach has been used). The <em>MyTable</em> columns contain all data retrieved in the MySQL database stored in lists of tibbles. The function <code>dplyr::unnest()</code> allows to reduce their dimensionality and explore in detail the single tables for each of the approaches. If we want to unravel the Table concerning the results of the Database we can use</p>
<pre class="r"><code>library(&quot;magrittr&quot;)
library(&quot;dplyr&quot;)
library(&quot;tidyr&quot;)
table&lt;-dbtabs %&gt;% filter(Table_Name==&quot;train&quot;) %&gt;% select(MyTables) %&gt;% unnest
print(table)</code></pre>
<pre><code>## # A tibble: 125 x 16
##    ID_T8 ID_T7 ID_T3 ID_TRAIN train      ME  RMSE RELRMSE   MAE     R    R2
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1    10    10     1        1     1  0.101   1.77    70.6  1.22 0.423 0.179
##  2    20    20     1        1     1 -0.434   2.20    87.6  1.61 0.439 0.193
##  3    30    30     1        1     1  1.27    1.98    78.9  1.48 0.561 0.315
##  4    40    40     1        1     1  0.0467  1.86    74.3  1.30 0.425 0.180
##  5    50    50     2        1     1  0.222   1.66    66.2  1.19 0.562 0.316
##  6    64    64     2        1     1 -0.0518  2.21    88.0  1.63 0.321 0.103
##  7    84    84     2        1     1  0.349   1.63    65.0  1.17 0.539 0.291
##  8   115   116     7        1     1  1.1     3.19   127.   2.54 0.158 0.025
##  9     9     9     1        1     1  0.121   1.79    71.3  1.23 0.418 0.174
## 10    19    19     1        1     1 -0.369   2.13    84.9  1.54 0.429 0.184
## # ... with 115 more rows, and 5 more variables: NRMSE &lt;dbl&gt;, TS &lt;dbl&gt;,
## #   NSE &lt;dbl&gt;, tictoc &lt;dbl&gt;, Results &lt;list&gt;</code></pre>
</div>
<div id="aggregate" class="section level1">
<h1><span class="header-section-number">5</span> Aggregate</h1>
<p>The nesting may has happened on multiple levels in the tibbles. This means that some of the lists contain lists. This level of complexity s necessary to reduce the amount of processing time as well as the RAM resources. The <code>dbJoin</code> function helps to aggregate all the information based on the Table_Type column. The <em>MyTables</em> column is therefore recursively joined based on the unique identifiers</p>
<pre class="r"><code>dbjoin   &lt;- doJoin(dbtabs,removeid = T)
print(dbjoin)</code></pre>
<pre><code>## # A tibble: 2 x 3
##   Database Table_Type Metrics            
##   &lt;chr&gt;    &lt;chr&gt;      &lt;list&gt;             
## 1 artmo_1  test_cf    &lt;tibble [129 x 35]&gt;
## 2 artmo_1  test_mla   &lt;tibble [31 x 35]&gt;</code></pre>
</div>
<div id="exploration" class="section level1">
<h1><span class="header-section-number">6</span> Exploration</h1>
<p>Actually, this section is up to the next Part of this Website. Nonetheless here is the most common way to analyze one of the Table_Type aggregation. If the <code>dplyr::unnest</code> is used on single columns the MySQL result can be analyzed.</p>
<p><strong>NOTE</strong>: This won’t work for the complete tibble since they have different column names. It is recommended to either standardize or process them one by one.</p>
<pre class="r"><code>statistics&lt;- dbjoin[1,] %&gt;% unnest
print(statistics)</code></pre>
<pre><code>## # A tibble: 129 x 37
##    Database Table_Type Model Database1 Project PY_ID Date  name_class
##    &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;     
##  1 artmo_1  test_cf    Mode~ artmo_1   Mattia1 1     2018~ Full_image
##  2 artmo_1  test_cf    Mode~ artmo_1   Mattia1 1     2018~ Full_image
##  3 artmo_1  test_cf    Mode~ artmo_1   Mattia1 1     2018~ Full_image
##  4 artmo_1  test_cf    Mode~ artmo_1   Mattia1 1     2018~ Full_image
##  5 artmo_1  test_cf    Mode~ artmo_1   Mattia1 1     2018~ Full_image
##  6 artmo_1  test_cf    Mode~ artmo_1   Mattia1 1     2018~ Full_image
##  7 artmo_1  test_cf    Mode~ artmo_1   Mattia1 1     2018~ Full_image
##  8 artmo_1  test_cf    Mode~ artmo_1   Mattia1 1     2018~ Full_image
##  9 artmo_1  test_cf    Mode~ artmo_1   Mattia1 1     2018~ Full_image
## 10 artmo_1  test_cf    Mode~ artmo_1   Mattia1 1     2018~ Full_image
## # ... with 119 more rows, and 29 more variables: derivar &lt;int&gt;,
## #   size_data &lt;S3: integer64&gt;, estadistico &lt;int&gt;, Spectra &lt;list&gt;,
## #   LUT &lt;list&gt;, Name1 &lt;chr&gt;, Name2 &lt;chr&gt;, clave &lt;chr&gt;, param_user &lt;list&gt;,
## #   algorithm &lt;chr&gt;, normalizar &lt;int&gt;, sim &lt;S3: integer64&gt;, alfa &lt;dbl&gt;,
## #   beta &lt;dbl&gt;, noise &lt;dbl&gt;, train &lt;dbl&gt;, ME &lt;dbl&gt;, RMSE &lt;dbl&gt;,
## #   RELRMSE &lt;dbl&gt;, MAE &lt;dbl&gt;, R &lt;dbl&gt;, R2 &lt;dbl&gt;, NRMSE &lt;dbl&gt;, TS &lt;dbl&gt;,
## #   NSE &lt;dbl&gt;, tictoc &lt;dbl&gt;, Results &lt;list&gt;, Store.ID &lt;int&gt;,
## #   Table_Type1 &lt;chr&gt;</code></pre>
</div>
<div id="working-environment" class="section level1">
<h1><span class="header-section-number">7</span> Working Environment</h1>
<p>Even though I would personally <strong>not recommend to save the resulting nested tibble</strong> the best possibility is by creating an RDS file. This is simply done with the <code>saveRDS</code> function. The big advantage of RDS is that the format is capable to handle the nesting as used in the presented tibbles. However, the dbjoin Element could become an extremely large object when saved. Consider saving parts of the <em>dbJoin</em> object such as by model.<br />
In general, it is recommended to build a folder structure before going in the deep analysis. This is very useful when the Output of the Model (such as Spatial Rasters) have to be connected to the Model output later.It is mandatory to manually connect the model output to the table since ARTMO provides no logical link in the MySQL tables within its table structure.</p>
<pre class="r"><code>dir&lt;-&quot;C:/ARTMO&quot;
models&lt;-buildpath(dbjoin,dir,foldersetup = T)
models</code></pre>
<pre><code>## # A tibble: 11 x 3
##    Database Table_Type Dir                                 
##    &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;                               
##  1 artmo_1  test_cf    C:/ARTMO/artmo_1/test_cf/Model1/    
##  2 artmo_1  test_cf    C:/ARTMO/artmo_1/test_cf/Model2/    
##  3 artmo_1  test_cf    C:/ARTMO/artmo_1/test_cf/ModelTia/  
##  4 artmo_1  test_cf    C:/ARTMO/artmo_1/test_cf/Mattab/    
##  5 artmo_1  test_cf    C:/ARTMO/artmo_1/test_cf/Table_1107/
##  6 artmo_1  test_cf    C:/ARTMO/artmo_1/test_cf/Tabnew/    
##  7 artmo_1  test_cf    C:/ARTMO/artmo_1/test_cf/TABLEAGAIN/
##  8 artmo_1  test_cf    C:/ARTMO/artmo_1/test_cf/Table_1210/
##  9 artmo_1  test_mla   C:/ARTMO/artmo_1/test_mla/MLRA1/    
## 10 artmo_1  test_mla   C:/ARTMO/artmo_1/test_mla/MLRA2/    
## 11 artmo_1  test_mla   C:/ARTMO/artmo_1/test_mla/MLRA3/</code></pre>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
