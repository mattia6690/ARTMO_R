<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Mattia Rossi" />


<title>Get ARTMO Data</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<script src="site_libs/d3-4.10.2/d3.min.js"></script>
<link href="site_libs/collapsibleTree-0.1.6/collapsibleTree.css" rel="stylesheet" />
<script src="site_libs/collapsibleTree-binding-0.1.7/collapsibleTree.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">ARTMO R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="example0.html">Getting Started</a>
</li>
<li>
  <a href="example1.html">Get Data</a>
</li>
<li>
  <a href="example2.html">Explore Databases</a>
</li>
<li>
  <a href="example3.html">Spatial Link</a>
</li>
<li>
  <a href="changelog.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Get ARTMO Data</h1>
<h4 class="author"><em>Mattia Rossi</em></h4>
<h4 class="date"><em>17 December, 2018</em></h4>

</div>


<p>The Tutorial on this site Aims at evaluating the single models within the ARTMO Database.</p>
<div id="essentials" class="section level1">
<h1><span class="header-section-number">1</span> Essentials</h1>
<p>Analogue to the previous tutorial the first step consists in loading the necessary functions and packages.</p>
<pre class="r"><code>source(&quot;../R/Essentials.R&quot;)
source(&quot;../R/Fun_Plot.R&quot;)</code></pre>
<p>In a second step we analyze the Database generated with the previous Tutorial. For demonstration purposes we used a test-rds <code>stat</code> file containg one small Database with LUT. For detecting the model performance we have to tidy the data again in order to have all the Statistics combined in a unique column. This is done with the <code>FormatTidy</code> function. Important is that <strong>Each Type of Analysis is evaluated seperately</strong> (MLR, VI, Inversion).</p>
<pre class="r"><code>stat&lt;-readRDS(&quot;./data/demo.rds&quot;) %&gt;% 
  filter(!map_lgl(Results, is.null)) 
stat.td &lt;- FormatTidy(stat,what=&quot;CF&quot;)</code></pre>
</div>
<div id="analyze-database" class="section level1">
<h1><span class="header-section-number">2</span> Analyze Database</h1>
<div id="model-performance" class="section level2">
<h2><span class="header-section-number">2.1</span> Model Performance</h2>
<p>First of all the extracted and tidy data is stored for immediate analysis of the whole database. This section allows to assess the Model Performance independently for each Model stored within a Database. The overall performace can e visualized using:</p>
<pre class="r"><code>ggplot(stat.td,aes(Model,Value,fill=Model))+
  theme_bw()+
  geom_boxplot()+
  theme(axis.text.x = element_text(angle = 90, hjust = 1))+
  facet_wrap(.~Statistic,scales = &quot;free&quot;)+
  ggtitle(&quot;Overall Model Performance&quot;)+
  theme(axis.title.x=element_blank(),
        axis.text.x=element_blank(),
        axis.ticks.x=element_blank())</code></pre>
<p><img src="example2_files/figure-html/db1-1.png" width="672" /></p>
</div>
<div id="algorithm-performance" class="section level2">
<h2><span class="header-section-number">2.2</span> Algorithm Performance</h2>
<p>This gives an overview on how the overall Statistics are with respect to the Model. If you want to analyze the Algorithms within each model the same can be applied to the <em>algorithm</em> instead of the <em>model</em> column</p>
<pre class="r"><code>ggplot(stat.td,aes(algorithm,Value,fill=algorithm))+
  theme_bw()+
  geom_boxplot()+
  theme(axis.text.x = element_text(angle = 90, hjust = 1))+
  facet_wrap(.~Statistic,scales = &quot;free&quot;)+
  ggtitle(&quot;Overall Algoritm Performance&quot;)+
  theme(axis.title.x=element_blank(),
        axis.text.x=element_blank(),
        axis.ticks.x=element_blank())</code></pre>
<p><img src="example2_files/figure-html/db2-1.png" width="672" /></p>
</div>
<div id="estimation" class="section level2">
<h2><span class="header-section-number">2.3</span> Estimation</h2>
<p>Furthermore the Data Structure gives us the possibility to analyze the database as a whole and not just single Results</p>
<pre class="r"><code>parameters&lt;-c(&quot;algorithm&quot;,&quot;noise&quot;)
statistics&lt;-&quot;R2&quot;

stat.model.all&lt;-stat.condense(jtable=stat,parameters=parameters,statistics=statistics) %&gt;% 
  unnest

ggplot(stat.model.all,aes(Measured,Estimated))+
  stat_density_2d(aes(fill = ..level..), geom = &quot;polygon&quot;, colour=&quot;white&quot;)+
  facet_wrap(.~Model)+
  theme_bw()</code></pre>
<p><img src="example2_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
</div>
<div id="nested-columns-spectra" class="section level2">
<h2><span class="header-section-number">2.4</span> Nested Columns (Spectra)</h2>
<p>In this way each of the colums within the Data Frame can be addressed. In order to address the nested ones (e.g. Spectra) we have to reduce the dimensionality and unnest them. Here it is convenient to select the Columns of interest for the plot. Here we selected Model and Spectra for gerating a plot taking into account each single Spectrum for the ARTMO LUT. Here all Spectra are the same since they were generated with the <strong>same validation</strong> table.</p>
<pre class="r"><code>stat.td.spec&lt;- stat %&gt;% 
  select(Model,Spectra) %&gt;% 
  unique %&gt;% 
  filter(!map_lgl(Spectra, is.null)) %&gt;% 
  unnest

g3&lt;-ggplot(stat.td.spec,aes(Wavelength,Value,group=Iteration,color=Iteration))+
  theme_bw()+
  geom_line()+
  ggtitle(&quot;Spectra by Model&quot;)+
  facet_wrap(.~Model)+
  scale_color_gradientn(colors=terrain.colors(200))

print(g3)</code></pre>
<p><img src="example2_files/figure-html/db3-1.png" width="672" /></p>
</div>
<div id="parametrization" class="section level2">
<h2><span class="header-section-number">2.5</span> Parametrization</h2>
<p>Often the most important fact about evaluating the Table is to understand basic parametrization as well as the applied algorithms. Dendrographs are a powerful tool to understand the recursive Linking of Parameter and Model. The `` package provides a powerful and interactive function based on HTML and Javascript for Dendropgraphs.<br />
In this example we combined the Models (First Node) wth the parameters <em>Alorithm</em>, <em>Noise</em>, <em>alfa</em>, <em>beta</em> (Second Node)</p>
<pre class="r"><code>stat.gather&lt;-stat %&gt;% 
  select(Database,Model,Name1,algorithm,alfa,beta,noise) %&gt;% 
  gather(Parameter,Name1,algorithm,alfa,beta,noise) %&gt;% 
  unique %&gt;% 
  setNames(c(&quot;level1&quot;,&quot;level2&quot;,&quot;level3&quot;,&quot;Value&quot;)) %&gt;% 
  mutate(level1 = toupper(level1))

library(collapsibleTree)
collapsibleTreeSummary(stat.gather,hierarchy=c(&quot;level1&quot;,&quot;level2&quot;,&quot;level3&quot;,&quot;Value&quot;),
                       collapsed=F,
                       nodeSize=&quot;leafCount&quot;,root=NULL)</code></pre>
<div id="htmlwidget-b1eea1ffd844aafd5764" style="width:672px;height:480px;" class="collapsibleTree html-widget"></div>
<script type="application/json" data-for="htmlwidget-b1eea1ffd844aafd5764">{"x":{"data":{"name":"ARTMO_1","fill":"#D33F6A","SizeOfNode":19.69,"WeightOfNode":"55","children":[{"name":"Model1","fill":"#D33F6A","SizeOfNode":10.62,"WeightOfNode":"16","children":[{"name":"algorithm","fill":"#D33F6A","SizeOfNode":7.97,"WeightOfNode":"9","children":[{"name":"RMSE","fill":"#E9A129","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"Bhattacharyya divergence","fill":"#E9A129","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"Exponential","fill":"#E9A129","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"K(x)=(log(x))^ 2","fill":"#E9A129","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"K(x)=log(x)+1/x","fill":"#E9A129","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"K(x)=-log(x)+x","fill":"#E9A129","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"K(x)=x(log(x))-x","fill":"#E9A129","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"K-divergence Lin","fill":"#E9A129","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"L-divergence lin","fill":"#E9A129","SizeOfNode":2.66,"WeightOfNode":"1"}]},{"name":"noise","fill":"#D33F6A","SizeOfNode":5.94,"WeightOfNode":"5","children":[{"name":"0","fill":"#DD6157","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"1.25","fill":"#DD6157","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"2.5","fill":"#DD6157","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"3.75","fill":"#DD6157","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"5","fill":"#DD6157","SizeOfNode":2.66,"WeightOfNode":"1"}]},{"name":"alfa","fill":"#E8C33C","SizeOfNode":2.66,"WeightOfNode":"1","children":[{"name":"0","fill":"#D33F6A","SizeOfNode":2.66,"WeightOfNode":"1"}]},{"name":"beta","fill":"#E8C33C","SizeOfNode":2.66,"WeightOfNode":"1","children":[{"name":"0","fill":"#D33F6A","SizeOfNode":2.66,"WeightOfNode":"1"}]}]},{"name":"Model2","fill":"#D33F6A","SizeOfNode":10.62,"WeightOfNode":"16","children":[{"name":"algorithm","fill":"#D33F6A","SizeOfNode":7.97,"WeightOfNode":"9","children":[{"name":"RMSE","fill":"#E9A129","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"Bhattacharyya divergence","fill":"#E9A129","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"Exponential","fill":"#E9A129","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"K(x)=(log(x))^ 2","fill":"#E9A129","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"K(x)=log(x)+1/x","fill":"#E9A129","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"K(x)=-log(x)+x","fill":"#E9A129","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"K(x)=x(log(x))-x","fill":"#E9A129","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"K-divergence Lin","fill":"#E9A129","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"L-divergence lin","fill":"#E9A129","SizeOfNode":2.66,"WeightOfNode":"1"}]},{"name":"noise","fill":"#D33F6A","SizeOfNode":5.94,"WeightOfNode":"5","children":[{"name":"0","fill":"#DD6157","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"1.25","fill":"#DD6157","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"2.5","fill":"#DD6157","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"3.75","fill":"#DD6157","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"5","fill":"#DD6157","SizeOfNode":2.66,"WeightOfNode":"1"}]},{"name":"alfa","fill":"#E8C33C","SizeOfNode":2.66,"WeightOfNode":"1","children":[{"name":"0","fill":"#D33F6A","SizeOfNode":2.66,"WeightOfNode":"1"}]},{"name":"beta","fill":"#E8C33C","SizeOfNode":2.66,"WeightOfNode":"1","children":[{"name":"0","fill":"#D33F6A","SizeOfNode":2.66,"WeightOfNode":"1"}]}]},{"name":"Table_1210","fill":"#D85161","SizeOfNode":9.2,"WeightOfNode":"12","children":[{"name":"algorithm","fill":"#D33F6A","SizeOfNode":7.02,"WeightOfNode":"7","children":[{"name":"RMSE","fill":"#E78C36","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"Exponential","fill":"#E78C36","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"K(x)=(log(x))^ 2","fill":"#E78C36","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"K(x)=log(x)+1/x","fill":"#E78C36","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"K(x)=-log(x)+x","fill":"#E78C36","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"K(x)=x(log(x))-x","fill":"#E78C36","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"K-divergence Lin","fill":"#E78C36","SizeOfNode":2.66,"WeightOfNode":"1"}]},{"name":"noise","fill":"#D33F6A","SizeOfNode":4.6,"WeightOfNode":"3","children":[{"name":"0","fill":"#D33F6A","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"2.5","fill":"#D33F6A","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"5","fill":"#D33F6A","SizeOfNode":2.66,"WeightOfNode":"1"}]},{"name":"alfa","fill":"#E9B62D","SizeOfNode":2.66,"WeightOfNode":"1","children":[{"name":"0","fill":"#D33F6A","SizeOfNode":2.66,"WeightOfNode":"1"}]},{"name":"beta","fill":"#E9B62D","SizeOfNode":2.66,"WeightOfNode":"1","children":[{"name":"0","fill":"#D33F6A","SizeOfNode":2.66,"WeightOfNode":"1"}]}]},{"name":"TABLEAGAIN","fill":"#DD6157","SizeOfNode":8.81,"WeightOfNode":"11","children":[{"name":"algorithm","fill":"#D33F6A","SizeOfNode":7.02,"WeightOfNode":"7","children":[{"name":"RMSE","fill":"#E78C36","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"Bhattacharyya divergence","fill":"#E78C36","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"Exponential","fill":"#E78C36","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"K(x)=(log(x))^ 2","fill":"#E78C36","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"K(x)=log(x)+1/x","fill":"#E78C36","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"Kullback-leibler","fill":"#E78C36","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"L-divergence lin","fill":"#E78C36","SizeOfNode":2.66,"WeightOfNode":"1"}]},{"name":"noise","fill":"#E1704C","SizeOfNode":3.75,"WeightOfNode":"2","children":[{"name":"0","fill":"#D33F6A","SizeOfNode":2.66,"WeightOfNode":"1"},{"name":"3","fill":"#D33F6A","SizeOfNode":2.66,"WeightOfNode":"1"}]},{"name":"alfa","fill":"#EAAF29","SizeOfNode":2.66,"WeightOfNode":"1","children":[{"name":"0","fill":"#D33F6A","SizeOfNode":2.66,"WeightOfNode":"1"}]},{"name":"beta","fill":"#EAAF29","SizeOfNode":2.66,"WeightOfNode":"1","children":[{"name":"0","fill":"#D33F6A","SizeOfNode":2.66,"WeightOfNode":"1"}]}]}]},"options":{"hierarchy":["level1","level2","level3","Value"],"input":null,"attribute":"leafCount","linkLength":null,"fontSize":10,"tooltip":true,"collapsed":false,"zoomable":true,"margin":{"top":20,"bottom":20,"left":[],"right":145}}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="analyze-model" class="section level1">
<h1><span class="header-section-number">3</span> Analyze Model</h1>
<p>After having an overview on how the Database is structured and how it is performing we need to decide for a Model we’re going to use for the next steps of the evaluation. For Demonstration Purposes we go with the <code>Model1</code> Model. we can reduce the dimensionality of the <code>stat</code> database by filtering it by the desired model</p>
<pre class="r"><code>model&lt;-&quot;Model1&quot;
stat.model&lt;-stat.td %&gt;% filter(Model==model)</code></pre>
<p>If we now are interested in testing a few parameters and their impact on the overall performance we can use the same approach as before while testing the complete database. First I would lke to try how the performance of the Model changes based on the noise I added to the Model</p>
<div id="model-parameters" class="section level2">
<h2><span class="header-section-number">3.1</span> Model Parameters</h2>
<pre class="r"><code>stat1&lt;-stat.model %&gt;% mutate(noise=as.factor(noise))

ggplot(stat.model,aes(algorithm,Value,fill=algorithm,alpha=noise,group=noise))+
  theme_bw()+
  geom_bar(stat=&quot;identity&quot;,position=&quot;dodge&quot;)+
  facet_wrap(Statistic~.,scales = &quot;free&quot;)+
  theme(axis.text.x = element_text(angle = 90, hjust = 1))+
  ggtitle(paste0(model,&quot;: Performance for &quot;, stat.model$Name1))+
  theme(axis.title.x=element_blank(),
        axis.text.x=element_blank(),
        axis.ticks.x=element_blank())</code></pre>
<p><img src="example2_files/figure-html/mod2-1.png" width="672" /></p>
</div>
<div id="correlation" class="section level2">
<h2><span class="header-section-number">3.2</span> Correlation</h2>
<p>Even though each of the Statistics in this Example has not performed as we would have expected (low R2 and fairly high RMSE values) we can observe the difference between alorithms as well as the impact of the Noise on the Results. First of all we calculate the GGplots for each of the results. GGplots are mathematical rapresentations on how the plot will look like. The Graph is generated as soon as the object in the list is printed. Therefore we add a new column <strong>ResultGG</strong> to the Tibble containing the generated GGplots. These can be called later depending on the parameters desired.</p>
<pre class="r"><code>model&lt;-&quot;Model1&quot;
parameters&lt;-c(&quot;algorithm&quot;,&quot;noise&quot;)
statistics&lt;-&quot;R2&quot;

stat.model.gg&lt;-stat.condense(stat,model,parameters,statistics,addGG = T)
print(stat.model.gg)</code></pre>
<pre><code>## # A tibble: 45 x 7
##    Model  Store.ID    R2 algorithm           noise Results        ResultGG
##    &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;               &lt;dbl&gt; &lt;list&gt;         &lt;list&gt;  
##  1 Model1        1 0.226 RMSE                 0    &lt;tibble [126 ~ &lt;S3: gg&gt;
##  2 Model1        2 0.215 RMSE                 1.25 &lt;tibble [126 ~ &lt;S3: gg&gt;
##  3 Model1        3 0.268 RMSE                 2.5  &lt;tibble [126 ~ &lt;S3: gg&gt;
##  4 Model1        4 0.275 RMSE                 3.75 &lt;tibble [126 ~ &lt;S3: gg&gt;
##  5 Model1        5 0.320 RMSE                 5    &lt;tibble [126 ~ &lt;S3: gg&gt;
##  6 Model1        6 0.193 Bhattacharyya dive~  0    &lt;tibble [126 ~ &lt;S3: gg&gt;
##  7 Model1        7 0.184 Bhattacharyya dive~  1.25 &lt;tibble [126 ~ &lt;S3: gg&gt;
##  8 Model1        8 0.157 Bhattacharyya dive~  2.5  &lt;tibble [126 ~ &lt;S3: gg&gt;
##  9 Model1        9 0.174 Bhattacharyya dive~  3.75 &lt;tibble [126 ~ &lt;S3: gg&gt;
## 10 Model1       10 0.179 Bhattacharyya dive~  5    &lt;tibble [126 ~ &lt;S3: gg&gt;
## # ... with 35 more rows</code></pre>
<p>For further Testing we use the <strong>Exponential</strong> Alorithm together eith a <strong>noise value of 5</strong> and have a look at the difference between measurend and simulated data.</p>
<pre class="r"><code>algorithm.s&lt;-&quot;Exponential&quot;
noise.s&lt;-5

gg.select&lt;-stat.model.gg %&gt;% filter(algorithm==algorithm.s &amp; noise==noise.s)

print(gg.select$ResultGG[[1]])</code></pre>
<p><img src="example2_files/figure-html/mod3-1.png" width="672" /></p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
